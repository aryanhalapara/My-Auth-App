import{h as pe}from"./chunk-XBAVIZDA.js";import{Aa as Jt,Ba as Wt,C as F,Ca as qt,D as N,Da as Yt,E as P,Ea as Qt,F as b,Fa as te,G as B,Ga as ot,H as Pt,Ha as ee,I as j,Ia as st,Ja as U,K as Lt,Ka as ne,La as ie,M as $t,Ma as oe,N as zt,Na as rt,O as Ft,Oa as se,Pa as re,Q as Bt,Qa as ce,R as Ut,Ra as ct,Sa as ae,T as tt,Ta as ue,U as et,Ua as le,Va as G,Y as Gt,_ as nt,a as w,aa as T,b as M,ba as O,c as W,ca as it,da as Ht,ea as Vt,f as At,fa as Zt,g as Et,h as Tt,ha as _,i as Ot,k as q,l as Ct,m as k,o as Y,p as R,q as wt,r as Mt,s as kt,t as _t,u as Rt,v as Nt,w as jt,wa as Kt,x as Q,y as z,z as Dt,za as Xt}from"./chunk-SYJVRVAB.js";var Fe=[{path:"auth",loadChildren:()=>import("./chunk-Q543FKAL.js").then(t=>t.AuthModule)},{path:"protected",loadChildren:()=>import("./chunk-NIVLVHDG.js").then(t=>t.ProtectedModule)},{path:"",redirectTo:"/auth/login",pathMatch:"full"}],de=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=j({type:t})}static{this.\u0275inj=N({imports:[ot.forRoot(Fe),ot]})}}return t})();function Be(t,i){if(t&1){let e=Ht();T(0,"button",14),Vt("click",function(){$t(e);let o=Zt();return zt(o.logout())}),_(1,"Logout"),O()}}function Ue(t,i){t&1&&(T(0,"button",15),_(1,"Login"),O())}var fe=(()=>{class t{constructor(e,n){this.authService=e,this.router=n,this.title="my-auth-app"}logout(){this.authService.logout(),this.router.navigate(["/auth/login"])}static{this.\u0275fac=function(n){return new(n||t)(et(G),et(Qt))}}static{this.\u0275cmp=Pt({type:t,selectors:[["app-root"]],decls:21,vars:2,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page",1,"nav-link","active"],["routerLink","/protected",1,"nav-link"],["routerLink","/auth/register",1,"nav-link"],["role","search",1,"d-flex"],["class","btn btn-outline-success","type","submit",3,"click",4,"ngIf"],["class","btn btn-outline-success","routerLink","/auth/login",4,"ngIf"],["type","submit",1,"btn","btn-outline-success",3,"click"],["routerLink","/auth/login",1,"btn","btn-outline-success"]],template:function(n,o){n&1&&(T(0,"nav",0)(1,"div",1)(2,"a",2),_(3,"Auth App"),O(),T(4,"button",3),it(5,"span",4),O(),T(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),_(10,"Subscription"),O()(),T(11,"li",7)(12,"a",9),_(13,"Protected"),O()(),T(14,"li",7)(15,"a",10),_(16,"Register"),O()()(),T(17,"div",11),Gt(18,Be,2,0,"button",12)(19,Ue,2,0,"button",13),O()()()(),it(20,"router-outlet")),n&2&&(tt(18),nt("ngIf",o.authService.isAuthenticated()),tt(),nt("ngIf",!o.authService.isAuthenticated()))},dependencies:[Kt,Yt,te]})}}return t})();var he=(t,i)=>{let n=B(G).token;if(n){let o=t.clone({setHeaders:{Authorization:`Bearer ${n}`}});return i(o)}return i(t)};var Ge={token:null},me=ae(Ge,ct(ue,(t,{token:i})=>M(w({},t),{token:i})),ct(le,t=>M(w({},t),{token:null})));var $="PERFORM_ACTION",He="REFRESH",Ie="RESET",ve="ROLLBACK",Ae="COMMIT",Ee="SWEEP",Te="TOGGLE_ACTION",Ve="SET_ACTIONS_ACTIVE",Oe="JUMP_TO_STATE",Ce="JUMP_TO_ACTION",It="IMPORT_STATE",we="LOCK_CHANGES",Me="PAUSE_RECORDING",D=class{constructor(i,e){if(this.action=i,this.timestamp=e,this.type=$,typeof i.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},ut=class{constructor(){this.type=He}},lt=class{constructor(i){this.timestamp=i,this.type=Ie}},pt=class{constructor(i){this.timestamp=i,this.type=ve}},dt=class{constructor(i){this.timestamp=i,this.type=Ae}},ft=class{constructor(){this.type=Ee}},ht=class{constructor(i){this.id=i,this.type=Te}};var mt=class{constructor(i){this.index=i,this.type=Oe}},gt=class{constructor(i){this.actionId=i,this.type=Ce}},St=class{constructor(i){this.nextLiftedState=i,this.type=It}},xt=class{constructor(i){this.status=i,this.type=we}},yt=class{constructor(i){this.status=i,this.type=Me}};var K=new P("@ngrx/store-devtools Options"),ge=new P("@ngrx/store-devtools Initial Config");function ke(){return null}var Ze="NgRx Store DevTools";function Ke(t){let i={maxAge:!1,monitor:ke,actionSanitizer:void 0,stateSanitizer:void 0,name:Ze,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},e=typeof t=="function"?t():t,n=e.logOnly?{pause:!0,export:!0,test:!0}:!1,o=e.features||n||i.features;o.import===!0&&(o.import="custom");let a=Object.assign({},i,{features:o},e);if(a.maxAge&&a.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${a.maxAge}`);return a}function Se(t,i){return t.filter(e=>i.indexOf(e)<0)}function _e(t){let{computedStates:i,currentStateIndex:e}=t;if(e>=i.length){let{state:o}=i[i.length-1];return o}let{state:n}=i[e];return n}function L(t){return new D(t,+Date.now())}function Xe(t,i){return Object.keys(i).reduce((e,n)=>{let o=Number(n);return e[o]=Re(t,i[o],o),e},{})}function Re(t,i,e){return M(w({},i),{action:t(i.action,e)})}function Je(t,i){return i.map((e,n)=>({state:Ne(t,e.state,n),error:e.error}))}function Ne(t,i,e){return t(i,e)}function je(t){return t.predicate||t.actionsSafelist||t.actionsBlocklist}function We(t,i,e,n){let o=[],a={},m=[];return t.stagedActionIds.forEach((l,g)=>{let s=t.actionsById[l];s&&(g&&vt(t.computedStates[g],s,i,e,n)||(a[l]=s,o.push(l),m.push(t.computedStates[g])))}),M(w({},t),{stagedActionIds:o,actionsById:a,computedStates:m})}function vt(t,i,e,n,o){let a=e&&!e(t,i.action),m=n&&!i.action.type.match(n.map(g=>xe(g)).join("|")),l=o&&i.action.type.match(o.map(g=>xe(g)).join("|"));return a||m||l}function xe(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function De(t){return{ngZone:t?B(Bt):null,connectInZone:t}}var X=(()=>{class t extends U{static{this.\u0275fac=(()=>{let e;return function(o){return(e||(e=Ft(t)))(o||t)}})()}static{this.\u0275prov=F({token:t,factory:t.\u0275fac})}}return t})(),H={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},bt=new P("@ngrx/store-devtools Redux Devtools Extension"),Pe=(()=>{class t{constructor(e,n,o){this.config=n,this.dispatcher=o,this.zoneConfig=De(this.config.connectInZone),this.devtoolsExtension=e,this.createActionStreams()}notify(e,n){if(this.devtoolsExtension)if(e.type===$){if(n.isLocked||n.isPaused)return;let o=_e(n);if(je(this.config)&&vt(o,e,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let a=this.config.stateSanitizer?Ne(this.config.stateSanitizer,o,n.currentStateIndex):o,m=this.config.actionSanitizer?Re(this.config.actionSanitizer,e,n.nextActionId):e;this.sendToReduxDevtools(()=>this.extensionConnection.send(m,a))}else{let o=M(w({},n),{stagedActionIds:n.stagedActionIds,actionsById:this.config.actionSanitizer?Xe(this.config.actionSanitizer,n.actionsById):n.actionsById,computedStates:this.config.stateSanitizer?Je(this.config.stateSanitizer,n.computedStates):n.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,o,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new W(e=>{let n=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=n,n.init(),n.subscribe(o=>e.next(o)),n.unsubscribe}):Tt}createActionStreams(){let e=this.createChangesObservable().pipe(Nt()),n=e.pipe(R(s=>s.type===H.START)),o=e.pipe(R(s=>s.type===H.STOP)),a=e.pipe(R(s=>s.type===H.DISPATCH),k(s=>this.unwrapAction(s.payload)),Mt(s=>s.type===It?this.dispatcher.pipe(R(S=>S.type===rt),Ct(1e3),kt(1e3),k(()=>s),wt(()=>q(s)),_t(1)):q(s))),l=e.pipe(R(s=>s.type===H.ACTION),k(s=>this.unwrapAction(s.payload))).pipe(z(o)),g=a.pipe(z(o));this.start$=n.pipe(z(o)),this.actions$=this.start$.pipe(Q(()=>l)),this.liftedActions$=this.start$.pipe(Q(()=>g))}unwrapAction(e){return typeof e=="string"?(0,eval)(`(${e})`):e}getExtensionConfig(e){let n={name:e.name,features:e.features,serialize:e.serialize,autoPause:e.autoPause??!1,trace:e.trace??!1,traceLimit:e.traceLimit??75};return e.maxAge!==!1&&(n.maxAge=e.maxAge),n}sendToReduxDevtools(e){try{e()}catch(n){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",n)}}static{this.\u0275fac=function(n){return new(n||t)(b(bt),b(K),b(X))}}static{this.\u0275prov=F({token:t,factory:t.\u0275fac})}}return t})(),Z={type:st},qe="@ngrx/store-devtools/recompute",Ye={type:qe};function Le(t,i,e,n,o){if(n)return{state:e,error:"Interrupted by an error up the chain"};let a=e,m;try{a=t(e,i)}catch(l){m=l.toString(),o.handleError(l)}return{state:a,error:m}}function V(t,i,e,n,o,a,m,l,g){if(i>=t.length&&t.length===a.length)return t;let s=t.slice(0,i),S=a.length-(g?1:0);for(let r=i;r<S;r++){let p=a[r],y=o[p].action,u=s[r-1],c=u?u.state:n,v=u?u.error:void 0,A=m.indexOf(p)>-1?u:Le(e,y,c,v,l);s.push(A)}return g&&s.push(t[t.length-1]),s}function Qe(t,i){return{monitorState:i(void 0,{}),nextActionId:1,actionsById:{0:L(Z)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function tn(t,i,e,n,o={}){return a=>(m,l)=>{let{monitorState:g,actionsById:s,nextActionId:S,stagedActionIds:r,skippedActionIds:p,committedState:y,currentStateIndex:u,computedStates:c,isLocked:v,isPaused:x}=m||i;m||(s=Object.create(s));function A(h){let f=h,C=r.slice(1,f+1);for(let I=0;I<C.length;I++)if(c[I+1].error){f=I,C=r.slice(1,f+1);break}else delete s[C[I]];p=p.filter(I=>C.indexOf(I)===-1),r=[0,...r.slice(f+1)],y=c[f].state,c=c.slice(f),u=u>f?u-f:0}function E(){s={0:L(Z)},S=1,r=[0],p=[],y=c[u].state,u=0,c=[]}let d=0;switch(l.type){case we:{v=l.status,d=1/0;break}case Me:{x=l.status,x?(r=[...r,S],s[S]=new D({type:"@ngrx/devtools/pause"},+Date.now()),S++,d=r.length-1,c=c.concat(c[c.length-1]),u===r.length-2&&u++,d=1/0):E();break}case Ie:{s={0:L(Z)},S=1,r=[0],p=[],y=t,u=0,c=[];break}case Ae:{E();break}case ve:{s={0:L(Z)},S=1,r=[0],p=[],u=0,c=[];break}case Te:{let{id:h}=l;p.indexOf(h)===-1?p=[h,...p]:p=p.filter(C=>C!==h),d=r.indexOf(h);break}case Ve:{let{start:h,end:f,active:C}=l,I=[];for(let J=h;J<f;J++)I.push(J);C?p=Se(p,I):p=[...p,...I],d=r.indexOf(h);break}case Oe:{u=l.index,d=1/0;break}case Ce:{let h=r.indexOf(l.actionId);h!==-1&&(u=h),d=1/0;break}case Ee:{r=Se(r,p),p=[],u=Math.min(u,r.length-1);break}case $:{if(v)return m||i;if(x||m&&vt(m.computedStates[u],l,o.predicate,o.actionsSafelist,o.actionsBlocklist)){let f=c[c.length-1];c=[...c.slice(0,-1),Le(a,l.action,f.state,f.error,e)],d=1/0;break}o.maxAge&&r.length===o.maxAge&&A(1),u===r.length-1&&u++;let h=S++;s[h]=l,r=[...r,h],d=r.length-1;break}case It:{({monitorState:g,actionsById:s,nextActionId:S,stagedActionIds:r,skippedActionIds:p,committedState:y,currentStateIndex:u,computedStates:c,isLocked:v,isPaused:x}=l.nextLiftedState);break}case st:{d=0,o.maxAge&&r.length>o.maxAge&&(c=V(c,d,a,y,s,r,p,e,x),A(r.length-o.maxAge),d=1/0);break}case rt:{if(c.filter(f=>f.error).length>0)d=0,o.maxAge&&r.length>o.maxAge&&(c=V(c,d,a,y,s,r,p,e,x),A(r.length-o.maxAge),d=1/0);else{if(!x&&!v){u===r.length-1&&u++;let f=S++;s[f]=new D(l,+Date.now()),r=[...r,f],d=r.length-1,c=V(c,d,a,y,s,r,p,e,x)}c=c.map(f=>M(w({},f),{state:a(f.state,Ye)})),u=r.length-1,o.maxAge&&r.length>o.maxAge&&A(r.length-o.maxAge),d=1/0}break}default:{d=1/0;break}}return c=V(c,d,a,y,s,r,p,e,x),g=n(g,l),{monitorState:g,actionsById:s,nextActionId:S,stagedActionIds:r,skippedActionIds:p,committedState:y,currentStateIndex:u,computedStates:c,isLocked:v,isPaused:x}}}var ye=(()=>{class t{constructor(e,n,o,a,m,l,g,s){let S=Qe(g,s.monitor),r=tn(g,S,l,s.monitor,s),p=Y(Y(n.asObservable().pipe(jt(1)),a.actions$).pipe(k(L)),e,a.liftedActions$).pipe(Ot(Et)),y=o.pipe(k(r)),u=De(s.connectInZone),c=new At(1);this.liftedStateSubscription=p.pipe(Dt(y),be(u),Rt(({state:A},[E,d])=>{let h=d(A,E);return E.type!==$&&je(s)&&(h=We(h,s.predicate,s.actionsSafelist,s.actionsBlocklist)),a.notify(E,h),{state:h,action:E}},{state:S,action:null})).subscribe(({state:A,action:E})=>{if(c.next(A),E.type===$){let d=E.action;m.next(d)}}),this.extensionStartSubscription=a.start$.pipe(be(u)).subscribe(()=>{this.refresh()});let v=c.asObservable(),x=v.pipe(k(_e));Object.defineProperty(x,"state",{value:ee(x,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=e,this.liftedState=v,this.state=x}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(e){this.dispatcher.next(e)}next(e){this.dispatcher.next(e)}error(e){}complete(){}performAction(e){this.dispatch(new D(e,+Date.now()))}refresh(){this.dispatch(new ut)}reset(){this.dispatch(new lt(+Date.now()))}rollback(){this.dispatch(new pt(+Date.now()))}commit(){this.dispatch(new dt(+Date.now()))}sweep(){this.dispatch(new ft)}toggleAction(e){this.dispatch(new ht(e))}jumpToAction(e){this.dispatch(new gt(e))}jumpToState(e){this.dispatch(new mt(e))}importState(e){this.dispatch(new St(e))}lockChanges(e){this.dispatch(new xt(e))}pauseRecording(e){this.dispatch(new yt(e))}static{this.\u0275fac=function(n){return new(n||t)(b(X),b(U),b(ie),b(Pe),b(se),b(Ut),b(ne),b(K))}}static{this.\u0275prov=F({token:t,factory:t.\u0275fac})}}return t})();function be({ngZone:t,connectInZone:i}){return e=>i?new W(n=>e.subscribe({next:o=>t.run(()=>n.next(o)),error:o=>t.run(()=>n.error(o)),complete:()=>t.run(()=>n.complete())})):e}var en=new P("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function nn(t,i){return!!t||i.monitor!==ke}function on(){let t="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[t]<"u"?window[t]:null}function sn(t={}){return Lt([Pe,X,ye,{provide:ge,useValue:t},{provide:en,deps:[bt,K],useFactory:nn},{provide:bt,useFactory:on},{provide:K,deps:[ge],useFactory:Ke},{provide:re,deps:[ye],useFactory:rn},{provide:oe,useExisting:X}])}function rn(t){return t.state}var $e=(()=>{class t{static instrument(e={}){return{ngModule:t,providers:[sn(e)]}}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=j({type:t})}static{this.\u0275inj=N({})}}return t})();var ze=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=j({type:t,bootstrap:[fe]})}static{this.\u0275inj=N({providers:[Xt(Jt([he]))],imports:[qt,de,pe,ce.forRoot({auth:me}),$e.instrument({maxAge:25,logOnly:!0})]})}}return t})();Wt().bootstrapModule(ze,{ngZoneEventCoalescing:!0}).catch(t=>console.error(t));
