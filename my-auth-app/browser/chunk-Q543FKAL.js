import{a as N,b as V,c as j,d as T,e as L,f as F,g as W,h as H}from"./chunk-XBAVIZDA.js";import{D as C,Ea as R,Ga as G,H as g,I as b,M as p,N as c,T as l,U as f,Va as I,Y as u,_ as d,aa as n,ba as t,d as U,da as M,e as P,ea as _,fa as A,ga as x,ha as a,ia as B,ja as $,ka as h,la as v,ma as w,oa as k,pa as O,wa as E,xa as Y,y as D,ya as z}from"./chunk-SYJVRVAB.js";function ne(e,y){e&1&&(n(0,"div",10),a(1," Email is required. "),t())}function oe(e,y){e&1&&(n(0,"div",10),a(1," Password is required. "),t())}var K=(()=>{class e{constructor(o,r){this.authService=o,this.router=r,this.credentials={email:"",password:""},this.errorMessage=null}onSubmit(){if(!this.credentials.email||!this.credentials.password){this.errorMessage="Email and password are required.";return}this.authService.login(this.credentials).subscribe(o=>{localStorage.setItem("token",o.token),this.router.navigate(["/protected"])},o=>{this.errorMessage="Login failed. Please try again."})}static{this.\u0275fac=function(r){return new(r||e)(f(I),f(R))}}static{this.\u0275cmp=g({type:e,selectors:[["app-login"]],decls:17,vars:5,consts:[["loginForm","ngForm"],[1,"container"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"]],template:function(r,s){if(r&1){let i=M();n(0,"div",1)(1,"h4"),a(2,"Login"),t(),n(3,"form",2,0),_("ngSubmit",function(){return p(i),c(s.onSubmit())}),n(5,"div",3)(6,"label",4),a(7,"Email"),t(),n(8,"input",5),w("ngModelChange",function(m){return p(i),v(s.credentials.email,m)||(s.credentials.email=m),c(m)}),t(),u(9,ne,2,0,"div",6),t(),n(10,"div",3)(11,"label",7),a(12,"Password"),t(),n(13,"input",8),w("ngModelChange",function(m){return p(i),v(s.credentials.password,m)||(s.credentials.password=m),c(m)}),t(),u(14,oe,2,0,"div",6),t(),n(15,"button",9),a(16,"Login"),t()()()}if(r&2){let i=x(4);l(8),h("ngModel",s.credentials.email),l(),d("ngIf",(i.controls.email==null?null:i.controls.email.invalid)&&(i.controls.email==null?null:i.controls.email.touched)),l(4),h("ngModel",s.credentials.password),l(),d("ngIf",(i.controls.password==null?null:i.controls.password.invalid)&&(i.controls.password==null?null:i.controls.password.touched)),l(),d("disabled",i.invalid)}},dependencies:[E,F,N,V,j,W,L,T],encapsulation:2})}}return e})();function re(e,y){e&1&&(n(0,"div",11),a(1," Email is required. "),t())}function se(e,y){e&1&&(n(0,"div",11),a(1," Password is required. "),t())}function ae(e,y){if(e&1&&(n(0,"div",12),a(1),t()),e&2){let o=A();l(),B(o.successMessage)}}function le(e,y){if(e&1&&(n(0,"div",11),a(1),t()),e&2){let o=A();l(),B(o.errorMessage)}}var Q=(()=>{class e{constructor(o,r){this.authService=o,this.router=r,this.user={email:"",password:""},this.successMessage=null,this.errorMessage=null}onSubmit(){this.authService.register(this.user).subscribe(o=>{this.successMessage="Registration successful! You can now log in.",this.errorMessage=null},o=>{this.errorMessage="Registration failed. Please try again.",this.successMessage=null})}static{this.\u0275fac=function(r){return new(r||e)(f(I),f(R))}}static{this.\u0275cmp=g({type:e,selectors:[["app-register"]],decls:19,vars:7,consts:[["registerForm","ngForm"],[1,"container"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","text-danger",4,"ngIf"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","text-success",4,"ngIf"],[1,"text-danger"],[1,"text-success"]],template:function(r,s){if(r&1){let i=M();n(0,"div",1)(1,"h4"),a(2,"Register"),t(),n(3,"form",2,0),_("ngSubmit",function(){return p(i),c(s.onSubmit())}),n(5,"div",3)(6,"label",4),a(7,"Email"),t(),n(8,"input",5),w("ngModelChange",function(m){return p(i),v(s.user.email,m)||(s.user.email=m),c(m)}),t(),u(9,re,2,0,"div",6),t(),n(10,"div",3)(11,"label",7),a(12,"Password"),t(),n(13,"input",8),w("ngModelChange",function(m){return p(i),v(s.user.password,m)||(s.user.password=m),c(m)}),t(),u(14,se,2,0,"div",6),t(),n(15,"button",9),a(16,"Register"),t(),u(17,ae,2,1,"div",10)(18,le,2,1,"div",6),t()()}if(r&2){let i=x(4);l(8),h("ngModel",s.user.email),l(),d("ngIf",(i.controls.email==null?null:i.controls.email.invalid)&&(i.controls.email==null?null:i.controls.email.touched)),l(4),h("ngModel",s.user.password),l(),d("ngIf",(i.controls.password==null?null:i.controls.password.invalid)&&(i.controls.password==null?null:i.controls.password.touched)),l(),d("disabled",i.invalid),l(2),d("ngIf",s.successMessage),l(),d("ngIf",s.errorMessage)}},dependencies:[E,F,N,V,j,W,L,T],encapsulation:2})}}return e})();var X=(()=>{class e{constructor(){this.destroy$=new U,this.counterSubject=new P(0),this.counter$=this.counterSubject.asObservable(),this.nameSubject=new P("Rivan"),this.name$=this.nameSubject.asObservable(),this.counter$.pipe(D(this.destroy$)).subscribe(o=>console.log(`Counter: ${o}`)),this.name$.pipe(D(this.destroy$)).subscribe(o=>console.log(`Name: ${o}`)),setInterval(()=>{this.counterSubject.next(this.counterSubject.value+1)},1e3),setTimeout(()=>{this.nameSubject.next("Riyan")},5e3)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=g({type:e,selectors:[["app-example"]],decls:9,vars:6,template:function(r,s){r&1&&(n(0,"div")(1,"h2"),a(2,"Example Component"),t(),n(3,"p"),a(4),k(5,"async"),t(),n(6,"p"),a(7),k(8,"async"),t()()),r&2&&(l(4),$("Counter: ",O(5,2,s.counter$),""),l(3),$("Name: ",O(8,4,s.name$),""))},dependencies:[Y],encapsulation:2})}}return e})();var me=[{path:"login",component:K},{path:"register",component:Q},{path:"example",component:X},{path:"",redirectTo:"login",pathMatch:"full"}],Z=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=b({type:e})}static{this.\u0275inj=C({imports:[G.forChild(me),G]})}}return e})();var Ve=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=b({type:e})}static{this.\u0275inj=C({imports:[z,Z,H]})}}return e})();export{Ve as AuthModule};
